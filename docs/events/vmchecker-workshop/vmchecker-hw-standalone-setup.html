<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">VMChecker Guide for the Standalone UI | Open Education Hub (OpenEdu)</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://openeducationhub.github.io/docs/events/vmchecker-workshop/vmchecker-hw-standalone-setup"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="VMChecker Guide for the Standalone UI | Open Education Hub (OpenEdu)"><meta data-react-helmet="true" name="description" content="1. Introduction"><meta data-react-helmet="true" property="og:description" content="1. Introduction"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://openeducationhub.github.io/docs/events/vmchecker-workshop/vmchecker-hw-standalone-setup"><link data-react-helmet="true" rel="alternate" href="https://openeducationhub.github.io/docs/events/vmchecker-workshop/vmchecker-hw-standalone-setup" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://openeducationhub.github.io/docs/events/vmchecker-workshop/vmchecker-hw-standalone-setup" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.dde8088b.css">
<link rel="preload" href="/assets/js/runtime~main.a91bcb1c.js" as="script">
<link rel="preload" href="/assets/js/main.a5eee3e7.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/eea-grants.png" alt="Open Education Hub Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/eea-grants.png" alt="Open Education Hub Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Open Education Hub</b></a><a class="navbar__item navbar__link" href="/docs/description/project-description">Project Description</a><a class="navbar__item navbar__link" href="/docs/community/team">Community</a><a class="navbar__item navbar__link" href="/docs/events/m1">Events</a><a class="navbar__item navbar__link" href="/docs/blog/intro">Blog</a><a class="navbar__item navbar__link" href="/docs/published-papers/intro">Published Papers</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/open-education-hub/open-education-hub-site/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Repository<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/description/project-description">Project Description</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/community/team">Community</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/events/brainstorming-2023-06-22">Events</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/events/brainstorming-2023-06-22">Brainstorming: Education in the Digital Age</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/events/m1">Workshop: Multiplier Event 1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/events/m2">Workshop: Multiplier Event 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/events/m3">Workshop: Multiplier Event 3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/events/m4">Conference: Multiplier Event 4: Open Education</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/events/vmchecker-workshop-2023-09-13">Workshop: VMChecker Next - Automation for the Lazy and the Busy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/events/vmchecker-workshop">Workshop: vmchecker: Main page</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/events/workshop-2023-07-10">Workshop: vmchecker: Automated Assignment Deployment, Checking and Grading</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/docs/events/vmchecker-workshop/vmchecker-hw-moodle-setup">vmchecker-workshop</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/events/vmchecker-workshop/vmchecker-hw-moodle-setup">VMChecker TA Guide for Assignments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/events/vmchecker-workshop/vmchecker-hw-standalone-setup">VMChecker Guide for the Standalone UI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/events/vmchecker-workshop/vmchecker-moodle-install">VMChecker Infrastructure Setup Guide</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/blog/intro">Blog</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/published-papers/intro">Published Works</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/talks/asem-eg-2022">Talks</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>VMChecker Guide for the Standalone UI</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="1-introduction">1. Introduction<a class="hash-link" href="#1-introduction" title="Direct link to heading">â€‹</a></h2><p>VMChecker Next is a new type of homework testing environment. It makes it so a student and a teacher can both use the same infrastructure in order to test homework with minimal input.</p><p>When you want to add a new assignment to VMChecker next you will need to have the following components ready:</p><ul><li>a private assignment repository, based on which the homework will be tested. This repository will have to remain private, as assignments are tested by creating a new branch for each submission through Moodle;</li><li>a public repository that is a mirror of the private repository which can be forked privately by students in order to test their homework using the same scripts and containers;</li><li>a frontend instance such as vmchecker-next-ui or Moodle where students will have to upload their homework;</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="11-clone-the-template-repository">1.1 Clone the Template Repository<a class="hash-link" href="#11-clone-the-template-repository" title="Direct link to heading">â€‹</a></h3><p>To have a baseline for this workshop, we will be using the <a href="https://gitlab.cs.pub.ro/vmchecker/container-templates" target="_blank" rel="noopener noreferrer">container templates</a> git repository.</p><p>From here, we are able to study the <code>docker-compose.yml</code> file provided in the <code>vmchecker-next-ui</code> directory.
It contains the necessary components to set up a Frontend instance together with the VMChecker backend and a GitLab Runner.</p><p>To start up the infrastructure, you will have to run the following command in
the <code>container-templates/vmchecker-next-ui</code> directory:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> -f ./docker-compose.yml --env-file ./.env -p vmchecker-test up</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>To connect to the Docker-based vmchecker-next-ui you will have to open Firefox and connect
to the <code>localhost:7000</code> address. The UI is fully integrated with LDAP and we have a few users
to login in with at our disposal (user/password):</p><ul><li><code>user01</code>/<code>password1</code></li><li><code>user02</code>/<code>password2</code></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="2-gitlab-setup">2. Gitlab Setup<a class="hash-link" href="#2-gitlab-setup" title="Direct link to heading">â€‹</a></h2><p>The private and public repositories must have the following structure:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ checker/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ Â  â”œâ”€â”€ checker.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ Â  â”œâ”€â”€ input/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ Â  â”‚ Â  â”œâ”€â”€ test0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ Â  â””â”€â”€ output/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ Â  Â  Â  â”œâ”€â”€ test0.ref</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ Dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ .gitlab-ci.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ local.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ src/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Â  Â  â””â”€â”€ skel.c</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>It is recommended to fork <a href="https://gitlab.cs.pub.ro/vmchecker/vmchecker-next-assignment" target="_blank" rel="noopener noreferrer">https://gitlab.cs.pub.ro/vmchecker/vmchecker-next-assignment</a> for a faster start.</p><p>If you are working on <strong>Gitlab.com</strong> you can import the repository by going from the main page <code>New Project &gt; Import Project &gt; Repository by URL</code> and then filling in the <code>Git repository URL</code> with: <a href="https://gitlab.cs.pub.ro/vmchecker/vmchecker-next-assignment.git" target="_blank" rel="noopener noreferrer">https://gitlab.cs.pub.ro/vmchecker/vmchecker-next-assignment.git</a>.</p><p>The project also contains the solution under <code>src/solution.c</code> if you want to test your GitLab setup before porting your assignment.</p><p>A typical assignment will have the above structure with the following files and folders of interest to teaching assistants:</p><ul><li><strong>src/</strong> - Here the student will develop their solution according to the assignment&#x27;s specification. Here, you can add a skeleton for the assignment.</li><li><strong>local.sh</strong> - A utility script used to check the assignment locally. It simulates a Gitlab pipeline.</li><li><strong>Dockerfile</strong> - Used to build the docker image for the Gitlab pipeline. The following is an example that should satisfy most cases:</li></ul><div class="codeBlockContainer_I0IT language-docker theme-code-block"><div class="codeBlockContent_wNvx docker"><pre tabindex="0" class="prism-code language-docker codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">FROM jokeswar/base-ctl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY ./checker ${CHECKER_DATA_DIRECTORY}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>NOTE</strong>: The <strong>base-ctl</strong> image is based on the ubuntu:20.04 image and has the following additional packages installed: build-essential and python3.</p><p><strong>NOTE</strong>: When the image is built the entire checker is copied into the docker image, to prevent the user from changing tests.</p><ul><li><strong>.gitlab-ci.yml</strong> - The definition of the pipeline. You <strong>must</strong> change the image used to the one you built;</li><li><strong>checker/</strong> - The checker directory;</li><li><strong>checker/checker.sh</strong> - The entry point of the checker. When execution is passed to this script, the <strong>current working directory</strong> is set to the <strong>checker/</strong> folder.</li></ul><p><strong>NOTE</strong>: In order for VMChecker Next to be able to grade the assignment it will look for the last string that matches the following regex: <code>Total:\ *([0-9]+)</code> (the grade must be an integer).</p><p>Valid format:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Â  Â  Â  Â  Â  Â  Â  Total:100/100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Â  Â  Â  Â  Â  Â  Â  Total: Â  Â 0/100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Total:50/100</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Invalid format:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Â  Â  Â  Â  Â  Â  Â  Total: 55.37/100 Â  Â  Â  # The grade will be set as 55, not 55.37 on Moodle</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>NOTE</strong>: You will need to generate a <a href="https://docs.gitlab.com/ee/user/project/settings/project_access_tokens.html#create-a-project-access-token" target="_blank" rel="noopener noreferrer">project access token</a> that will allow VMChecker to access Gitlab&#x27;s API. You will need to give the token access to <code>api</code>, <code>read_api</code>, <code>read_registry</code>, <code>write_registry</code>, <code>read_repository</code>, <code>write_repository</code> and the role should be at least <code>Developer</code>. Also, the project ID for the private repository is needed.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="first-changes-needed">First Changes Needed<a class="hash-link" href="#first-changes-needed" title="Direct link to heading">â€‹</a></h4><ol><li>Change the <code>DEFAULT_IMAGE_NAME</code> with the name of the public repository of your homework in the format <code>groupname/projectname</code>. This variable is found in the <a href="https://gitlab.cs.pub.ro/vmchecker/vmchecker-next-assignment/-/blob/master/local.sh#L12" target="_blank" rel="noopener noreferrer"><code>local.sh</code> script</a></li><li>Change the image used to the same name set as above in the <code>.gitlab-ci.yml</code> file on <a href="https://gitlab.cs.pub.ro/vmchecker/vmchecker-next-assignment/-/blob/master/.gitlab-ci.yml#L29" target="_blank" rel="noopener noreferrer">line 29</a></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="21-disable-merge-requests-for-the-public-repository">2.1. Disable Merge Requests for the Public Repository<a class="hash-link" href="#21-disable-merge-requests-for-the-public-repository" title="Direct link to heading">â€‹</a></h3><p>To avoid the possibility of students accidentally sharing their solution, <strong>Merge Requests</strong> for the public repository must be disabled. To do that:</p><ol><li>Go to your public project page</li><li>On the left panel under <strong>Settings</strong> select <strong>General</strong></li><li>Under the <strong>Visibility, project features, permissions</strong> disable <strong>Merge Requests</strong>.</li></ol><p><img src="https://user-images.githubusercontent.com/24795454/170046159-4a45db7a-1a52-48d1-905f-662d0287badf.png" alt="mr_disable"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="22-set-up-a-cd-pipeline-for-the-checker-image">2.2. Set Up a CD Pipeline for the Checker Image<a class="hash-link" href="#22-set-up-a-cd-pipeline-for-the-checker-image" title="Direct link to heading">â€‹</a></h3><p>In <strong>.gitlab-ci.yml</strong> set the image name for the <strong>checker</strong> step to <strong>registry.gitlab.com/\&lt;group-name<!-- -->&gt;<!-- -->/\&lt;project-name<!-- -->&gt;<!-- -->:\&lt;tag<!-- -->&gt;</strong> (e.g: registry.gitlab.com/ASC/Assignment-3-Public:latest).</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="221-build-the-checker-image-using-gitlab-pipelines">2.2.1. Build the Checker Image Using Gitlab Pipelines<a class="hash-link" href="#221-build-the-checker-image-using-gitlab-pipelines" title="Direct link to heading">â€‹</a></h4><p>Set up the <strong>BUILD_DOCKER_IMAGE</strong> <a href="https://docs.gitlab.com/ee/ci/variables/#add-a-cicd-variable-to-a-project" target="_blank" rel="noopener noreferrer">pipeline environment variable</a> to <strong>true</strong> for your public repository. Each time a new commit is made to the repository a new Docker image build will be triggered. The image will be uploaded to Gitlab&#x27;s own Docker registry.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="222-build-the-checker-image-manually">2.2.2. Build the Checker Image Manually<a class="hash-link" href="#222-build-the-checker-image-manually" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">./local.sh </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./local.sh </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> push --user </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$GITLAB_USERNAME</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> --token </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$GITLAB_ACCESS_TOKEN</span><span class="token string" style="color:#e3116c">&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>To create a <strong>GITLAB_ACCESS_TOKEN</strong> access token follow the <a href="https://docs.gitlab.com/ee/user/packages/container_registry/#authenticate-by-using-gitlab-cicd" target="_blank" rel="noopener noreferrer">documentation on Gitlab</a>.</p><p>For more information on <strong>local.sh</strong> run <code>./local.sh -h</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="23-find-the-project-id">2.3. Find the Project ID<a class="hash-link" href="#23-find-the-project-id" title="Direct link to heading">â€‹</a></h3><ol><li>Go to your project page</li><li>The ID is found under the project name</li></ol><p><img src="https://user-images.githubusercontent.com/24795454/163970448-e4e47e5e-7739-4d09-a60b-b621ed5a0e33.png" alt="project_id"></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="24-setup-the-gitlab-runner">2.4. Setup the Gitlab Runner<a class="hash-link" href="#24-setup-the-gitlab-runner" title="Direct link to heading">â€‹</a></h3><p>Lastly, we need to register our Gitlab Runner, so that our assignment verification jobs get checked. To do that we go to our project and click on <code>Settings &gt; CI/CD &gt; Project Runners</code>. While we are here make sure that the option <code>Enable shared runners for this project</code> is disabled!</p><p><img src="https://github.com/Jokeswar/Investi/assets/24795454/c39f77d6-70b3-4129-8232-e1001f847e56" alt="add-runner"></p><p>Then you will have to select your Operating System and whether to use Docker or Kubernetes to host the runner. Currently, we will use the Docker engine to start and host the GitLab Runner. In this step, make sure that <code>Run untagged jobs</code> is checked.</p><p><img src="https://github.com/Jokeswar/Investi/assets/24795454/36255270-4afe-4d99-bac4-a8843a0a695a" alt="runner-config-1"></p><p>The Docker runner container was already started as part of the docker-compose command. Finally, click on <code>Create runner</code> found at the bottom of the page</p><p>Now you will be presented with some instructions on how to register the runner instance on your machine with Gitlab. The official documentation is found <a href="https://docs.gitlab.com/runner/register/index.html#docker" target="_blank" rel="noopener noreferrer">here</a>. In our case, the command to register the runner is:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> -it vmchecker-test-runner-1 gitlab-runner register</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><img src="https://github.com/Jokeswar/Investi/assets/24795454/d3b3cbb3-1725-4c92-acc4-e7597cc334c9" alt="runner-config-2"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="3-vmchecker-next-ui-assignment-setup">3. VMChecker Next UI Assignment Setup<a class="hash-link" href="#3-vmchecker-next-ui-assignment-setup" title="Direct link to heading">â€‹</a></h2><p>First log into the admin dashboard of the UI found at http://localhost:7000/admin/login/?next=/admin/. The credentials, user/password, are <code>admin</code>/<code>admin</code>.</p><p>Under the <code>UI</code> group select <code>Assignments</code> then click on <code>Short Name of Assignment</code> to start editing it.</p><p><img src="https://github.com/Jokeswar/Investi/assets/24795454/4131ac66-dacd-474e-89e3-76f13d422a5c" alt="ui-config-1"></p><p>Here you will be able to configure the most important settings of your assignment.</p><ul><li><strong>Gitlab private token</strong> - This is the token you created in step 2, and it allows the middleware to commit changes to your private repository;</li><li><strong>Gitlab branch</strong> - This is the default branch of the repository. If you imported/forked the vmchecker-next-assignment repository, the default branch is <code>master</code>;</li><li><strong>Gitlab project ID</strong> - This is the ID of your private repository found on Gitlab (See <a href="#23-find-the-project-id">2.3. Find the project ID</a>);</li></ul><p><img src="https://github.com/Jokeswar/Investi/assets/24795454/d413f420-b5c8-4715-96ce-6901cf38e8da" alt="ui-config-2"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="4-test-your-assignment">4. Test Your Assignment<a class="hash-link" href="#4-test-your-assignment" title="Direct link to heading">â€‹</a></h2><p>After the setup is done, go to the homepage, select the assignment, and upload your submission via <code>Submit your Archive</code>. Your solution will run on the GitLab CI. You can check your <a href="#5-check-a-submission-on-gitlab">private repository</a>. When the pipeline is finished the trace will be set as feedback for your assignment and the the submission graded.</p><p><strong>NOTE</strong>: On the local website, the feedback string will be computed from the trace found on the Gitlab pipeline and will be the first 300 lines of the content between the start of the checker string mark (i.e. <strong>&lt;VMCK_NEXT_BEGIN&gt;</strong>) and the end string mark (i.e. <strong>&lt;VMCK_NEXT_END&gt;</strong>).</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;Pipeline output&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;VMCK_NEXT_BEGIN&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test 1....0              ---|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.                           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.                           |   This will be the feedback for the student assignment.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test n...0                  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Total 0/100          ---|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;VMCK_NEXT_END&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;some more Pipeline output&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="5-check-a-submission-on-gitlab">5. Check a Submission on Gitlab<a class="hash-link" href="#5-check-a-submission-on-gitlab" title="Direct link to heading">â€‹</a></h2><p>To check the pipeline of a certain student, go to the assignment&#x27;s private repository on GitLab. From the menu on the left select <strong>Repository</strong> <!-- -->â†’<!-- --> <strong>Branches</strong>. Every student submission has a separate branch of the following format <code>${username}-${year}-${month}-${day}-${hour}-${minute}-${second}-${uuid}</code>. Using the search bar, look for the desired submission.</p><p><img src="https://user-images.githubusercontent.com/24795454/165287222-68f7bd0d-1622-4b43-b268-e04a5cd3cd75.png" alt="branches"></p><p>To check the user code click on the branch name and check the <strong>src</strong> folder.</p><p>If you want to see the pipeline output, click on the pipeline status icon.</p><p><img src="https://user-images.githubusercontent.com/24795454/165287255-b50a7fef-b37d-4df8-9fd8-9cc73e8ea827.png" alt="pipeline_select"></p><p>Next, click on <strong>Jobs</strong> and select the first job ID.</p><p><img src="https://user-images.githubusercontent.com/24795454/165121389-9f554fb3-9e23-4923-87cc-5177f91295ec.png" alt="jobs"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/open-education-hub/open-education-hub-site/website/docs/events/vmchecker-workshop/vmchecker-hw-standalone-setup.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/events/vmchecker-workshop/vmchecker-hw-moodle-setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">VMChecker TA Guide for Assignments</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/events/vmchecker-workshop/vmchecker-moodle-install"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">VMChecker Infrastructure Setup Guide</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-introduction" class="table-of-contents__link toc-highlight">1. Introduction</a><ul><li><a href="#11-clone-the-template-repository" class="table-of-contents__link toc-highlight">1.1 Clone the Template Repository</a></li></ul></li><li><a href="#2-gitlab-setup" class="table-of-contents__link toc-highlight">2. Gitlab Setup</a><ul><li><a href="#21-disable-merge-requests-for-the-public-repository" class="table-of-contents__link toc-highlight">2.1. Disable Merge Requests for the Public Repository</a></li><li><a href="#22-set-up-a-cd-pipeline-for-the-checker-image" class="table-of-contents__link toc-highlight">2.2. Set Up a CD Pipeline for the Checker Image</a></li><li><a href="#23-find-the-project-id" class="table-of-contents__link toc-highlight">2.3. Find the Project ID</a></li><li><a href="#24-setup-the-gitlab-runner" class="table-of-contents__link toc-highlight">2.4. Setup the Gitlab Runner</a></li></ul></li><li><a href="#3-vmchecker-next-ui-assignment-setup" class="table-of-contents__link toc-highlight">3. VMChecker Next UI Assignment Setup</a></li><li><a href="#4-test-your-assignment" class="table-of-contents__link toc-highlight">4. Test Your Assignment</a></li><li><a href="#5-check-a-submission-on-gitlab" class="table-of-contents__link toc-highlight">5. Check a Submission on Gitlab</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a href="https://bit.ly/OpenEduHub" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/Open-Education-Hub" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/OpenEduHub" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/openeducationhub" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a href="https://www.linkedin.com/company/open-education-hub" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/@OpenEduHub" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/channel/UCumS6d-kaVXreY46eZLtEvA" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item"><a href="https://www.instagram.com/open.education.hub/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 <a href="http://www.upb.ro">University POLITEHNICA of Bucharest<a>, <a href="https://english.hi.is/">University of Iceland</a>. Built with <a href="https://docusaurus.io/">Docusaurus</a>.
          <p>
          The Financial Mechanism Office maintains this website to enhance public access to information about the programmes and projects of the EEA and Norway Grants.
          The information is of a general nature, based on information and data registered by third parties and is not intended to be comprehensive or complete.

          We make our best efforts to keep this information timely and accurate.
          If errors are brought to our attention we will try to correct them.
          However, The Financial Mechanism Office accepts no responsibility or liability whatsoever with regard to the information on this site and is in no event liable for damages of any kind incurred or suffered as a result of the use of the information presented on this website.

          The Financial Mechanism Office reserves the right to alter, amend or remove pages, in whole or in part, without prior notice or to discontinue publication for a period of time or even completely.
          </p>
          <p>
          This material was realised with the EEA Financial Mechanism 2014-2021 financial support.
          Its content (text, photos, videos) does not reflect the official opinion of the Programme Operator, the National Contact Point and the Financial Mechanism Office.
          Responsibility for the information and views expressed therein lies entirely with the author(s).
          </p></a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.a91bcb1c.js"></script>
<script src="/assets/js/main.a5eee3e7.js"></script>
</body>
</html>